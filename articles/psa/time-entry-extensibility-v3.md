---
title: התאמה אישית של הזנת ערכי זמן שבועית
description: נושא זה מספק מידע על אופן היישום של כללים עסקיים מותאמים אישית התומכים בנוהלי הארגון.
author: stsporen
ms.custom:
- dyn365-projectservice
ms.date: 07/09/2019
ms.topic: article
ms.author: rumant
audience: Admin
search.audienceType:
- admin
- customizer
- enduser
search.app:
- D365CE
- D365PS
- ProjectOperations
ms.openlocfilehash: fa2ef927e0234919ee4777f24c60569fb33a8570f6d48be6aef356df4f08a6e7
ms.sourcegitcommit: 7f8d1e7a16af769adb43d1877c28fdce53975db8
ms.translationtype: HT
ms.contentlocale: he-IL
ms.lasthandoff: 08/06/2021
ms.locfileid: "7002287"
---
# <a name="customize-weekly-time-entry"></a>התאמה אישית של ערכי זמן שבועיים 

[!include [banner](../includes/psa-now-project-operations.md)]

[!INCLUDE[cc-applies-to-psa-app-3.x](../includes/cc-applies-to-psa-app-3x.md)]

ב- Microsoft Dynamics 365 Project Service Automation גירסה 3.3, Microsoft הציגה רשת מודרנית המאפשרת למשאבי פרויקט להזין זמן במהירות עד שבוע אחד בכל פעם. הרשת החדשה של הזנת זמן שבועית יכולה להציג סיכומי ערכים לפי תאריך, לפי שורה או לפי שבוע. משאבים יכולים להכין עותקים של ערכי זמן במהלך השבוע ולבצע העתקה בצובר משבועות קודמים. עובדים המבצעים התאמות אישיות במערכת יכולים להתאים אישית את התצוגה על-ידי הוספת שדות, הוספת בדיקות מידע לישויות אחרות ויישום כללים עסקיים מותאמים אישית כדי לתמוך בנוהלי הארגון שלהם.

ניתן לגשת לתכונת הזנת הזמן ולרשת הזמן השבועית החדשה דרך מפת האתר. חוויית הזנת הזמן המותאמת אישית שאינה ניתנת להרחבה, שהייתה חלק מגירסאות קודמות של PSA, הוחלפה על-ידי רשת הזנת הזמן השבועית הניתנת להרחבה, וכן על-ידי חוויה חלופית ברשת ובלוח השנה לקריאה בלבד. עקב שינוי זה, המשתמשים יכולים להזין זמן בכמויות שבועיות.

## <a name="page-layout"></a>פריסת עמוד
רשת הזנת הזמן השבועית החדשה היא פקד מותאם אישית בעל סרגל כלים ושני מקטעים עיקריים, **ממדים** ו **משך זמן**. סרגל הכלים כולל לחצן שחל רק על פקד מותאם אישית זה של רשת הזנת הזמן. לעומת זאת, הלחצנים בחלונית הפעולות בראש העמוד חלים על שלושת סוגי הפקדים הנתמכים להזנת זמן: פקד הזנת הזמן השבועית, הפקד לקריאה בלבד ופקד לוח השנה.

### <a name="dimensions"></a>ממדים
המקטע **ממדים** מציג, בתור כותרות עמודה, את כל הממדים שלפיהם ניתן להזין זמן. הממדים הבאים נתמכים מראש:

- פרויקט
- משימת פרויקט
- תפקיד
- סוג
- מצב ערך

המקטע **ממדים** אינו מאפשר עריכה בתוך השורה. מקטע זה מגובה על-ידי תצוגה המאפשרת להוסיף שדות מותאמים אישית לרשת הזנת הזמן השבועית. לקבלת מידע על הוספת שדות מותאמים אישית, עיין בסעיף 'יכולת הרחבה' בהמשך נושא זה.

### <a name="duration"></a>משך זמן
המקטע 'משך זמן' מציג את ימות השבוע בתור כותרות עמודה. מקטע זה מאפשר עריכה בתוך השורה. לאחר יצירת שורת הזנת זמן בעלת הממדים המתאימים, המשתמשים יכולים להזין במהירות, בתוך השורה, את כמות הזמן שהם הקדישו לממדים הללו.

## <a name="create-a-new-time-entry"></a>יצירת ערך זמן חדש
כדי ליצור ערך זמן חדש ברשת הזנת הזמן, בחר **חדש**. תיבת הדו-שיח **יצירה מהירה של ערך זמן** מופיעה. בתיבת דו-שיח זו, המשתמשים יכולים לבחור את תאריך ערך הזמן ולאחר מכן להזין נתונים עבור הממדים **פרויקט**, **משימת פרויקט**, **תפקיד** ו **משך זמן** בדקות, בשעות או בימים על-ידי הקלדת **ש**, **ד** או **י**, יחד עם המספר. המשתמשים יכולים גם להזין תיאור והערות שניתן לשתף באופן חיצוני עבור ערך הזמן. כאשר המשתמשים שומרים את השינויים, הערכים שהזינו מול הממדים מופיעים במקטע **ממדים**. פרטי משך הזמן שהם הזינו בשדה **משך זמן** מופיעים בתאריך שעבורו נוצר ערך הזמן.

שדות בדיקת מידע מגובים על-ידי תצוגות מערכת. לדוגמה, לאחר שמשתמש מזין פרויקט, השדה **משימת פרויקט** מוגדר לתצוגה **העתקה** כברירת מחדל. כדי ליצור ערכי זמן עבור משימות שאינן מוקצות למשתמש כלשהו, בחר **שנה תצוגה** בתיבת הדו-שיח של בדיקת המידע ולאחר מכן בחר את התצוגה **כל משימות הפרויקט הפעיל**.

## <a name="edit-a-time-entry"></a>עריכת ערך זמן
פרטים משדות מסוימים בדף הזנת הזמן, כגון **תיאור** ו **הערות חיצוניות**, אינם מוצגים ברשת הזנת הזמן השבועית. במקום זאת, מופיע מחוון משולש קטן בתאי משך הזמן המכילים פרטים נוספים אלה. בחר את התא ולאחר מכן בחר **ערוך פרטים** כדי להציג את הנתונים בחלונית **העריכה המהירה**. כדי לערוך או לעדכן את הפרטים עבור ערך זמן ספציפי שאינו חלק מרשת הזנת הזמן השבועית, המשתמשים צריכים לפתוח את חלונית **העריכה המהירה**.

## <a name="copy-a-time-entry-row"></a>העתקת שורה של ערך זמן
לאחר היצירה של שורת הזנת הזמן הראשונה, המשתמשים יכולים לבחור את האפשרות **העתק שורה** כדי להעתיק את השורה כולה לשורה חדשה. בעת העתקת שורה בדרך זו, מתבצעת העתקה גם של הממדים ומשכי הזמן. המשתמשים יכולים גם לבחור **ערוך שורה** כדי לעדכן ערכי ממדים ומשכי זמן בתוך השורה במקטע **משך זמן**.

## <a name="open-a-time-entry"></a>פתיחת ערך זמן
כדי לתמוך בהזנה מיטבית ומהירה בשדות הבולטים ביותר, רשת הזנת הזמן השבועית מציגה קבוצת משנה של ממדים ומשכי זמן נבחרים. כדי להציג את כל הפרטים של ערך זמן בודד, תחת **ערוך ערך**, בחר **פתח**.

## <a name="submit-a-time-entry"></a>שליחת ערך זמן
המשתמשים יכולים לשלוח ערך זמן בודד או קבוצה של ערכי זמן על-ידי בחירת בלוק תאים או שורה שלמה של ערכי זמן, ובחירת האפשרות **שלח**. ערכי זמן שנשלחו מופיעים כערכים הממתינים לאישור בדף **אישור** של המאשרים. לאחר שערכי הזמן נשלחים בהצלחה, לא ניתן לערוך אותם.

## <a name="recall-a-time-entry"></a>אחזור ערך זמן
יש לך אפשרות לאחזר ערכי זמן ששלחת. תוכל לאחזר ערך זמן בודד, בלוק של ערכי זמן או שורה שלמה של ערכי זמן. ערכי זמן שאוחזרו זמינים למשאבים לעריכה.

## <a name="time-entry-status"></a>מצב ערכי זמן
לערכי זמן חדשים מוקצה מצב **טיוטה** באופן אוטומטי. בעת שליחת ערך זמן, המצב מתעדכן ל **נשלח**. לאחר האישור של ערך זמן שנשלח, המצב מתעדכן ל **אושר**. אם ערך זמן כלשהו נדחה, המצב מעודכן ל **הוחזר** והערך הופך לזמין לתיקון ולשליחה מחדש. ניתן למחוק רק ערכי זמן במצב **טיוטה**.

## <a name="view-rejection-comments"></a>הצגת הערות דחייה
כאשר ערך זמן נדחה על-ידי מאשר, המאשר עשוי להוסיף הערות דחייה כדי לעזור למשאב להבין את הסיבה לדחייה. כדי להציג את הערות הדחייה עבור ערך זמן כלשהו, בחר **פתח ערך**. הערות הדחייה יוצגו בציר הזמן. בציר הזמן, המשאב יכול להגיב להערות הדחייה לפני שהוא שולח מחדש את הערך.

## <a name="copy-week"></a>העתקת שבוע
לאחר שנוצרו כמה ערכי זמן, המשתמשים יכולים לבחור **העתק שבוע** כדי ליצור ערכי זמן נוספים בבת אחת. תיבת הדו-שיח **העתקה** מופיעה. במקטע **תקופת התחלה**, השתמש בשדות **תאריך התחלה** ו **תאריך סיום** כדי להגדיר את טווח התאריכים להעתקת ערכי זמן. במקטע **תקופת סיום**, בשדה **תאריך התחלה**, ציין את התאריך שעבורו יש ליצור ערכי זמן. לאחר מכן בחר **העתק**. עבור התאריך שצוין בתקופת הסיום, נוצר עותק של ערכי הזמן עבור היום התואם בשבוע בתקופת ההתחלה. לדוגמה, ערך הזמן של יום שני מהשבוע שעבר מועתק ליום שני בשבוע שצוין כתקופת הסיום.

## <a name="import"></a>ייבא
אותו תהליך בסיסי משמש לייבוא מתוך הזמנות, הקצאות והחלפות. המשתמשים יכולים לציין את טווח התאריכים שממנו מיובאות הזמנות. לאחר מכן, עליהם לבחור במפורש את ההזמנות שיש להעתיק לערכי זמן במצב טיוטה. במהדורה הקודמת, ערכי הזמן המוצעים הופיעו ברשת ובלוח השנה, ונמחקו בעת רענון ההפעלה.

## <a name="extensibility"></a>יכולת הרחבה
### <a name="add-custom-fields-that-have-lookups-to-other-entities"></a>הוספת שדות מותאמים אישית שיש להם בדיקות מידע לישויות אחרות
קיימים שלושה שלבים עיקריים להוספת שדה מותאם אישית לרשת הזנת הזמן השבועית.

1.  הוסף את השדה המותאם אישית לתיבת הדו-שיח ליצירה מהירה.
2.  הגדר את הרשת כך שתציג את השדה המותאם אישית.
3.  הוסף את השדה המותאם אישית לזרימת המשימה של עריכת השורה או לזרימת המשימה של עריכת התא, לפי הצורך.

כמו כן, עליך לוודא שהשדה החדש כולל את האימותים הדרושים בזרימת המשימה של עריכת השורה או התא. כחלק משלב זה, עליך לנעול את השדה, לפי מצב הזנת הזמן.

#### <a name="add-the-custom-field-to-the-quick-create-dialog-box"></a>הוספת השדה המותאם אישית לתיבת הדו-שיח ליצירה מהירה
עליך להוסיף את השדה המותאם אישית לתיבת הדו-שיח 'יצירה מהירה של ערך זמן'. כך המשתמשים יוכלו להזין ערך עבורו בעת הוספת ערכי זמן באמצעות הלחצן **חדש**.

#### <a name="configure-the-grid-to-show-the-custom-field"></a>הגדרת הרשת כך שתציג את השדה המותאם אישית
קיימות שתי דרכים להוספת שדה מותאם אישית לרשת הזנת הזמן השבועית. האפשרות הראשונה היא להתאים אישית את התצוגה **ערכי הזמן השבועיים שלי** ולהוסיף לה את השדה המותאם אישית. באפשרותך לבחור את המיקום והגודל של השדה המותאם אישית ברשת על-ידי עריכת מאפיינים אלה בתצוגה.

האפשרות השנייה היא ליצור תצוגת מותאמת אישית חדשה של ערך זמן ולהגדיר אותה כתצוגת ברירת המחדל. תצוגה זו צריכה להכיל את השדות **תיאור** ו **הערות חיצוניות**, בנוסף לעמודות שברצונך לכלול ברשת. באפשרותך לבחור את המיקום, הגודל וסדר המיון המוגדר כברירת מחדל של הרשת על-ידי עריכת מאפיינים אלה בתצוגה. לאחר מכן, הגדר את הפקד המותאם אישית של תצוגה זו כדי שיהיה פקד **רשת הזנת זמן**. הוסף פקד זה לתצוגה ובחר אותו לאינטרנט, לטלפון ול- Tablet. לאחר מכן, הגדר את הפרמטרים עבור רשת הזנת הזמן השבועית. הגדר את השדה **תאריך התחלה** לערך **msdyn_date**, הגדר את השדה **משך זמן** לערך **msdyn_duration** והגדר את השדה **מצב** לערך **msdyn_entrystatus**. עבור תצוגת ברירת המחדל, השדה **‏‫רשימת מצבים לקריאה בלבד** מוגדרת לערך **192350002,192350003,192350004**, השדה **זרימת משימה לעריכת שורה‬** מוגדר לערך **msdyn_timeentryrowedit** והשדה **זרימת משימה לעריכת תא** מוגדר לערך **msdyn_timeentryedit**. באפשרותך להתאים אישית שדות אלה כדי להוסיף או להסיר מצב לקריאה בלבד, או להשתמש בחוויה אחרת המבוססת על משימות (TBX) לעריכת שורה או תא. שדות אלה צריכים להיות מאוגדים לערך סטטי.

#### <a name="add-the-custom-field-to-the-appropriate-edit-task-flow"></a>הוספת השדה המותאם אישית לזרימת משימה הולמת של עריכה
ניתן למצוא את דפי ה- TBX המשמשים לעריכה תחת **תהליכים**. הדפים המהווים ברירת מחדל הם **Project Service – עריכת שורה של ערך זמן** ו **Project Service – עריכת ערך זמן**. באפשרותך לערוך דפי ברירת מחדל אלה או ליצור דפי TBX מותאמים אישית חדשים.

> [!NOTE] 
> שתי האפשרויות יסירו סינון מסוים הנכלל מראש בישויות **פרויקט** ו **משימת פרויקט**, כך שכל תצוגות בדיקת המידע של הישויות יהיו גלויות. ההגדרה שנקבעה מראש מציגה רק את תצוגות בדיקת המידע הרלוונטיות.

עליך לקבוע מהי זרימת המשימה המתאימה עבור השדה המותאם אישית. סביר להניח שאם הוספת את השדה לרשת, הוא אמור להופיע בזרימת המשימה לעריכת שורה המשמשת לשדות החלים על כל השורה של ערכי הזמן. אם השדה המותאם אישית מכיל ערך ייחודי מדי יום, כגון שדה מותאם אישית של **שעת סיום**, עליו להופיע בזרימת משימה לעריכת תא.

כדי להוסיף את השדה המותאם אישית לזרימת משימה, גרור רכיב **שדה** למיקום המתאים בדף ולאחר מכן הגדר את המאפיינים שלו. הגדר את המאפיין **מקור** ל **ערך זמן** והגדר את המאפיין **שדה נתונים** לשדה המותאם האישית. המאפיין **שדה** מציין את שם התצוגה בדף TBX. בחר **החל** כדי לשמור את השינויים בשדה. לאחר מכן בחר **עדכן** כדי לשמור את השינויים בדף.

כדי להשתמש בדף TBX מותאם אישית חדש במקום זאת, צור תהליך חדש. הגדר את הקטגוריה ל **זרימת תהליך עסקי**, הגדר את הישות ל **ערך זמן** והגדר את סוג התהליך העסקי ל **הפעל תהליך כזרימת משימה**. תחת **מאפיינים**, המאפיין **שם דף** צריך להיות מוגדר לשם התצוגה של הדף. הוסף את כל השדות הרלוונטיים לדף TBX. שמור והפעל את התהליך, ועדכן את מאפיין הפקד המותאם אישית עבור זרימת המשימה הרלוונטית לערך **שם** בתהליך.

### <a name="add-new-option-set-values"></a>הוספת ערכים חדשים של קבוצת אפשרויות
כדי להוסיף ערכי קבוצת אפשרויות לשדה מוגדר מראש, פתח את דף העריכה של השדה, ולאחר מכן תחת **סוג**, בחר **ערוך** ליד קבוצת האפשרויות. לאחר מכן, הוסף אפשרות חדשה הכוללת תווית וצבע מותאמים אישית. אם ברצונך להוסיף מצב חדש של ערך זמן, השדה המוגדר מראש נקרא **מצב ערך**, ולא **מצב**.

### <a name="designate-a-new-time-entry-status-as-read-only"></a>הקצאת מצב חדש של ערך זמן לקריאה בלבד
כדי להקצות מצב חדש של ערך זמן לקריאה בלבד, הוסף את הערך החדש של ערך הזמן (המספר, לא התווית) למאפיין **רשימת מצבים לקריאה בלבד**. החלק הניתן לעריכה של רשת הזנת הזמן יהיה נעול בשורות בעלות המצב החדש.
לאחר מכן, הוסף כללים עסקיים כדי לנעול את כל השדות בדפי ה- TBX **עריכת שורת ערך זמן** ו **עריכת ערך זמן**. באפשרותך לגשת לכללים העסקיים של דפים אלה על-ידי פתיחת העורך של זרימת התהליך העסקי של הדף ובחירת **כללים עסקיים**. באפשרותך להוסיף את המצב החדש לתנאי בכללים העסקיים הקיימים, או להוסיף כלל עסקי חדש עבור המצב החדש.

### <a name="add-custom-validation-rules"></a>הוספת כללי אימות מותאמים אישית
קיימים שני סוגים של כללי אימות שניתן להוסיף עבור החוויה של רשת הזנת הזמן השבועית: •   כללים עסקיים בצד הלקוח הפועלים באמצעות תיבות דו-שיח ליצירה מהירה ובדפי TBX •   אימותים של יישומי Plug-in בצד שרת החלים על כל עדכוני ערכי הזמן

#### <a name="business-rules"></a>כללים עסקיים
השתמש בכללים עסקיים כדי לנעול ולבטל נעילה של שדות, להזין ערכי ברירת מחדל בשדות ולהגדיר אימותים הדורשים מידע רק מרשומת ערך הזמן הנוכחית. באפשרותך לגשת לכללים העסקיים של דף TBX על-ידי פתיחת העורך של זרימת התהליך העסקי של הדף ובחירת **כללים עסקיים**. לאחר מכן תוכל לערוך את הכללים העסקיים הקיימים או להוסיף כלל עסקי חדש. לקבלת אימותים מותאמים אישית עוד יותר, באפשרותך להשתמש בכלל עסקי להפעלת JavaScript.

#### <a name="plug-in-validations"></a>אימותים של יישום Plug-in
עליך להשתמש באימותים של יישום Plug-in עבור כל האימותים הדורשים יותר הקשר ממה שמופיע ברשומת ערך זמן יחידה, או עבור כל האימותים שברצונך להפעיל בעדכונים מוטבעים ברשת. כדי להשלים את האימות, צור יישום Plug-in מותאם אישית בישות **ערך זמן**.

> [!IMPORTANT] 
> כיום, בעיה מוכרת בדפי TBX מונעת מהמשתמשים לתקן מידע ולבצע בחירה חוזרת של האפשרות 'סיום' כשהעדכון נכשל באימות של יישום Plug-in. כדי לעקוף את הבעיה, הגדר אימותים של כללים עסקיים כדי למנוע מצב זה ככל האפשר.


[!INCLUDE[footer-include](../includes/footer-banner.md)]