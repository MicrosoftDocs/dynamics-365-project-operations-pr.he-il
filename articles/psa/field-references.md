---
title: הוספת שדות מותאמים אישית להגדרת מחיר וישויות של עסקאות
description: נושא זו מספק מידע על הוספת שדות מותאמים אישית להגדרת מחיר וישויות של עסקאות.
author: Rumant
manager: kfend
ms.custom:
- dyn365-projectservice
ms.date: 10/01/2020
ms.topic: article
ms.service: business-applications
ms.author: rumant
audience: Admin
search.audienceType:
- admin
- customizer
- enduser
search.app:
- D365PS
- ProjectOperations
ms.openlocfilehash: e1a8d6319788ee73e0e2837a47cba89108c32572
ms.sourcegitcommit: fa32b1893286f20271fa4ec4be8fc68bd135f53c
ms.translationtype: HT
ms.contentlocale: he-IL
ms.lasthandoff: 02/15/2021
ms.locfileid: "5275314"
---
# <a name="add-custom-fields-to-price-setup-and-transactional-entities"></a><span data-ttu-id="9e8c1-103">הוספת שדות מותאמים אישית להגדרת מחיר וישויות של עסקאות</span><span class="sxs-lookup"><span data-stu-id="9e8c1-103">Add custom fields to price setup and transactional entities</span></span> 

[!include [banner](../includes/psa-now-project-operations.md)]

<span data-ttu-id="9e8c1-104">‏‫נושא זה יוצא מנקודת הנחה שהשלמת את ההליכים בנושא [‬‏‫יצירת שדות וישויות מותאמים אישית‬‏‫](create-custom-fields-entities.md).</span><span class="sxs-lookup"><span data-stu-id="9e8c1-104">This topic assumes that you have completed the procedures in the topic, [Create custom fields and entities](create-custom-fields-entities.md).</span></span> <span data-ttu-id="9e8c1-105">אם לא השלמת הליכים אלה, חזור והשלם אותם ולאחר מכן חזור לנושא זה.</span><span class="sxs-lookup"><span data-stu-id="9e8c1-105">If you haven't completed those procedures, go back and complete them and then return to this topic.</span></span> 

<span data-ttu-id="9e8c1-106">בנושא זה, ההליכים יראו לך כיצד להוסיף את ההפניות הדרושות בשדות מותאמים אישית לישויות ולרכיבי ממשק המשתמש (UI), כגון טפסים ותצוגות.</span><span class="sxs-lookup"><span data-stu-id="9e8c1-106">In this topic, the procedures will show you how to add the required custom field references to entities and to the user interface (UI) elements such as forms and views.</span></span>

## <a name="add-custom-pricing-dimension-fields"></a><span data-ttu-id="9e8c1-107">הוספת שדות מותאמים אישית לממד תמחור</span><span class="sxs-lookup"><span data-stu-id="9e8c1-107">Add custom pricing dimension fields</span></span> 
<span data-ttu-id="9e8c1-108">לאחר יצירת ישויות ושדות מותאמים אישית, השלב הבא יהיה לגרום להגדרת מחיר וישויות של עסקאות‬ להיות מודעים לישויות מותאמות אישית או לקבוצת אפשרויות על-ידי יצירת שדות הפניה.</span><span class="sxs-lookup"><span data-stu-id="9e8c1-108">After custom fields and entities have been created, the next step is to make price setup and transactional entities aware of any custom entities or option sets by creating reference fields.</span></span> <span data-ttu-id="9e8c1-109">אם רשימת ממדי התמחור שלך כוללת ממדים של קבוצת אפשרויות או ממדים של ישויות או את שתיהן, בצע רק את השלבים תחת **ממדי תמחור מותאמים אישית המבוססים על קבוצת אפשרויות** או תחת **ממדי תמחור מותאמים אישית המבוססים על ישות**, או את השלבים של שתי האפשרויות, בהתאמה.</span><span class="sxs-lookup"><span data-stu-id="9e8c1-109">Depending on whether your pricing dimensions list includes option set dimensions or entity dimensions or both, follow only the steps in **Option set-based custom pricing dimensions** or **Entity-based custom pricing dimensions**, or both, respectively.</span></span>

### <a name="option-set-based-custom-pricing-dimensions"></a><span data-ttu-id="9e8c1-110">ממדי תמחור מותאמים אישית המבוססים על קבוצת אפשרויות</span><span class="sxs-lookup"><span data-stu-id="9e8c1-110">Option set-based custom pricing dimensions</span></span>
<span data-ttu-id="9e8c1-111">כאשר ממד תמחור מותאם אישית מבוסס על מערכת אפשרויות, הוסף אותו כשדה ליישויות מרכזיות של Project Service.</span><span class="sxs-lookup"><span data-stu-id="9e8c1-111">When a custom pricing dimension is option set-based, add it as a field to key Project Service entities.</span></span> <span data-ttu-id="9e8c1-112">בהליך הבא, **מיקום עבודה של משאב** ו **שעות עבודה  של משאב** משמשים כממדי תמחור שמבוססים על קבוצת אפשרויות.</span><span class="sxs-lookup"><span data-stu-id="9e8c1-112">In the following procedure, **Resource Work Location** and **Resource Work Hours** are used as the option set-based pricing dimensions.</span></span> <span data-ttu-id="9e8c1-113">יש להוסיף אותם תחילה כשדות לישויות התמחור, **מחיר תפקיד** ו **ייקור מחיר תפקיד**.</span><span class="sxs-lookup"><span data-stu-id="9e8c1-113">These must first be added as fields to the pricing entities, **Role Price** and **Role Price Markup**.</span></span>

1. <span data-ttu-id="9e8c1-114">ב- Project Service Automation ‏(PSA), לחץ על **הגדרות** > **פתרונות**, ולאחר מכן לחץ לחיצה כפולה על **\<your organization name> ממדי תמחור**.</span><span class="sxs-lookup"><span data-stu-id="9e8c1-114">In Project Service Automation (PSA), click **Settings** > **Solutions**, and then double-click **\<your organization name> pricing dimensions**.</span></span> 
2. <span data-ttu-id="9e8c1-115">בסייר הפתרונות, בחלונית הניווט הימנית בחר **ישויות > מחיר תפקיד**.</span><span class="sxs-lookup"><span data-stu-id="9e8c1-115">In Solution Explorer, on the left navigation pane, select **Entities > Role Price**.</span></span>
3. <span data-ttu-id="9e8c1-116">הרחב את הישות **מחיר תפקיד** ובחר **שדות**.</span><span class="sxs-lookup"><span data-stu-id="9e8c1-116">Expand the entity **Role Price** and select **Fields**.</span></span>
4. <span data-ttu-id="9e8c1-117">לחץ על **חדש** כדי ליצור שדה חדש הנקרא **מיקום עבודה של משאב** ובחר **קבוצת אפשרויות** כסוג השדה.</span><span class="sxs-lookup"><span data-stu-id="9e8c1-117">Click **New** to create a new field called **Resource Work Location** and select **Option set** as the field type.</span></span> 
5. <span data-ttu-id="9e8c1-118">בחר **השתמש בקבוצת אפשרויות קיימת**, בחר את קבוצת האפשרויות **מיקום עבודה של משאב** ולאחר מכן לחץ על **שמור**.</span><span class="sxs-lookup"><span data-stu-id="9e8c1-118">Select **Use an existing Option set**, select the **Resource Work Location** option set, and then click **Save**.</span></span>
6. <span data-ttu-id="9e8c1-119">חזור על שלבים 1 עד 5 כדי להוסיף שדה זה לישות **ייקור מחיר תפקיד**.</span><span class="sxs-lookup"><span data-stu-id="9e8c1-119">Repeat steps 1 - 5 to add this field to the **Role Price Markup** entity.</span></span> 
7. <span data-ttu-id="9e8c1-120">חזור על שלבים 1 עד 5 עבור קבוצת האפשרויות **שעות עבודה של משאב**.</span><span class="sxs-lookup"><span data-stu-id="9e8c1-120">Repeat steps 1 - 5 for the **Resource Work Hours** option set.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="9e8c1-121">בעת הוספת שדה ליותר מישות אחת, השתמש באותו שם שדה בכל הישויות.</span><span class="sxs-lookup"><span data-stu-id="9e8c1-121">When you add a field to more than one entity, use the same field name across all of the entities.</span></span> 

> ![הוספת מיקום עבודה של משאב למחיר התפקיד](media/RWL-Field.png)

<span data-ttu-id="9e8c1-123">בשלבי המכירות וההערכה בפרוייקט, הערכות של מאמץ העבודה שנדרש כדי להשלים עבודה **באופן מקומי** ועבודה **באתר הלקוח**, ב **שעות רגילות** וב **שעות נוספות**  משמשים כדי להעריך את הערך של הצעת המחיר/הפרוייקט.</span><span class="sxs-lookup"><span data-stu-id="9e8c1-123">In the sales and estimation phases for a project, estimates of the work effort that is required to complete **Local** and **Onsite** work, in **Regular hours** and **Overtime hours**  are used to estimate the value of the Quote/Project.</span></span> <span data-ttu-id="9e8c1-124">השדות **מיקום עבודה של משאב** ו **שעות עבודה של משאב** יתווספו אל ישויות הערכה, **‏‫פרטים בשורת הצעת מחיר‬**, **פרטים בסעיף חוזה**, ‏‫**משימה בפרויקט**, **חבר צוות פרויקט‬** ו **‏‫שורת הערכה‬**.</span><span class="sxs-lookup"><span data-stu-id="9e8c1-124">The fields **Resource Work Location** and **Resource Work Hours** will be added to the estimation entities, **Quote Line Detail**, **Contract Line detail**, **Project Task**, **Project Team Member**, and **Estimate Line**.</span></span>

1. <span data-ttu-id="9e8c1-125">ב-PSA, בחר **הגדרות** > **פתרונות** ולחץ פעמיים על **\<your organization name> ממדי תמחור**.</span><span class="sxs-lookup"><span data-stu-id="9e8c1-125">In PSA, click **Settings** > **Solutions**, and then double-click **\<your organization name> pricing dimensions**.</span></span> 
2. <span data-ttu-id="9e8c1-126">בסייר הפתרונות, בחלונית הניווט הימנית בחר **ישויות > פרטים בשורת הצעת מחיר‬**.</span><span class="sxs-lookup"><span data-stu-id="9e8c1-126">In Solution Explorer, on the left navigation pane, select **Entities > Quote Line Detail**.</span></span>
3. <span data-ttu-id="9e8c1-127">הרחב את הישות **פרטים בשורת הצעת מחיר‬** ובחר **שדות**.</span><span class="sxs-lookup"><span data-stu-id="9e8c1-127">Expand the **Quote Line Detail** entity, and select **Fields**.</span></span>
4. <span data-ttu-id="9e8c1-128">לחץ על **חדש** כדי ליצור שדה חדש הנקרא **מיקום עבודה של משאב** ובחר את סוג השדה **קבוצת אפשרויות**.</span><span class="sxs-lookup"><span data-stu-id="9e8c1-128">Click **New** to create a new field called **Resource Work Location** and select the field type, **Option set**.</span></span> 
5. <span data-ttu-id="9e8c1-129">בחר **השתמש בקבוצת אפשרויות קיימת** וב **מיקום עבודה של משאב** ולאחר מכן לחץ על **שמור**.</span><span class="sxs-lookup"><span data-stu-id="9e8c1-129">Select **Use an existing Option set** and **Resource Work Location**, and then click **Save**.</span></span>
6. <span data-ttu-id="9e8c1-130">חזור על שלבים 1 עד 5 כדי להוסיף שדה זה אל הישויות **‏‫פרט סעיף חוזה של פרויקט‬**, ‏‫**משימה בפרויקט**, **חבר צוות פרויקט‬** ו **שורת הערכה**.</span><span class="sxs-lookup"><span data-stu-id="9e8c1-130">Repeat steps 1 - 5 to add this field to the **Project Contract line detail**,**Project Task**, **Project Team Member**, and **Estimate Line** entities.</span></span>
7. <span data-ttu-id="9e8c1-131">חזור על שלבים 1 עד 6 עבור קבוצת האפשרויות **שעות עבודה של משאב**.</span><span class="sxs-lookup"><span data-stu-id="9e8c1-131">Repeat steps 1 - 6 for the **Resource Work Hours** option set.</span></span> 

> ![הוספת מיקום עבודה של משאב לשורת הערכה](media/RWL-Default-Value.png)


<span data-ttu-id="9e8c1-133">עבור מסירה והפקת חשבונית, עבודה שהושלמה צריכה להיות מתומחרת במדויק כדי לבחור אם היא בוצעה **באופן מקומי** או **באתר הלקוח**, והאם היא הושלמה במהלך **השעות הרגילות** או **בשעות נוספות** בנתונים בפועל של הפרוייקט.</span><span class="sxs-lookup"><span data-stu-id="9e8c1-133">For delivery and invoicing, completed work needs to be accurately priced to select whether it was performed **Local** or **Onsite**, and whether it was completed during **Regular hours** or **Overtime** on the Project Actuals.</span></span> <span data-ttu-id="9e8c1-134">יש להוסיף את השדות **מיקום עבודה של משאב** ו **שעות עבודה של משאב** אל הישויות **‏‫ערך זמן‬**, **בפועל**, **פרטים בשורת חשבונית** ו **שורת יומן**.</span><span class="sxs-lookup"><span data-stu-id="9e8c1-134">The **Resource Work Location** and **Resource Work hours** fields should be added to the **Time Entry**, **Actual**, **Invoice Line Detail**, and **Journal Line** entities.</span></span>

1. <span data-ttu-id="9e8c1-135">ב-PSA, בחר **הגדרות** > **פתרונות** ולחץ פעמיים על **\<your organization name> ממדי תמחור**.</span><span class="sxs-lookup"><span data-stu-id="9e8c1-135">In PSA, click **Settings** > **Solutions**, and then double-click **\<your organization name> pricing dimensions**.</span></span>
2. <span data-ttu-id="9e8c1-136">בסייר הפתרונות, בחלונית הניווט הימנית בחר **ישויות > ערך זמן**.</span><span class="sxs-lookup"><span data-stu-id="9e8c1-136">In Solution Explorer, on the left navigation pane, select  **Entities > Time Entry**.</span></span>
3. <span data-ttu-id="9e8c1-137">הרחב את הישות **פרטים בשורת הצעת מחיר‬** ולאחר מכן בחר **שדות**.</span><span class="sxs-lookup"><span data-stu-id="9e8c1-137">Expand the **Quote Line Detail** entity, and then select **Fields**.</span></span>
4. <span data-ttu-id="9e8c1-138">לחץ על **חדש** כדי ליצור שדה חדש הנקרא **מיקום עבודה של משאב** ובחר **קבוצת אפשרויות** כסוג השדה.</span><span class="sxs-lookup"><span data-stu-id="9e8c1-138">Click **New** to create a new field called **Resource Work Location** and select **Option set** as the field type.</span></span> 
5. <span data-ttu-id="9e8c1-139">בחר **השתמש בקבוצת אפשרויות קיימת**, בחר את קבוצת האפשרויות **מיקום עבודה של משאב** ולאחר מכן לחץ על **שמור**.</span><span class="sxs-lookup"><span data-stu-id="9e8c1-139">Select **Use an existing Option set**, select the **Resource Work Location** option set, and then click **Save**.</span></span>
6. <span data-ttu-id="9e8c1-140">חזור על שלבים 1 עד 5 כדי להוסיף שדה זה אל הישויות **בפועל**, **פרטים בשורת חשבונית** ו **שורת יומן**.</span><span class="sxs-lookup"><span data-stu-id="9e8c1-140">Repeat steps 1 - 5 to add this field to the **Actual**, **Invoice Line Detail**, and **Journal Line** entities.</span></span>
7. <span data-ttu-id="9e8c1-141">חזור על שלבים 1 עד 6 עבור קבוצת האפשרויות **שעות עבודה של משאב**.</span><span class="sxs-lookup"><span data-stu-id="9e8c1-141">Repeat steps 1 - 6 for the **Resource Work Hours** option set.</span></span> 

> ![הוספת מיקום עבודה של משאב לערך זמן](media/RWL-time-entry.png)

<span data-ttu-id="9e8c1-143">פעולה זו משלימה את שינויי הסכימה הדרושים עבור ממדים מותאמים אישית המבוססים על קבוצת אפשרויות.</span><span class="sxs-lookup"><span data-stu-id="9e8c1-143">This completes the schema changes required for option set-based custom dimensions.</span></span>

## <a name="entity-based-custom-pricing-dimensions"></a><span data-ttu-id="9e8c1-144">ממדי תמחור מותאמים אישית המבוססים על ישות</span><span class="sxs-lookup"><span data-stu-id="9e8c1-144">Entity-based custom pricing dimensions</span></span>

<span data-ttu-id="9e8c1-145">כאשר ממד התמחור שמותאם אישית הוא ישות, עליך להוסיף קשר יחיד לרבים (‎1:N) קשרים בין ישות הממד לבין הישויות המרכזיות ב- Project Service.</span><span class="sxs-lookup"><span data-stu-id="9e8c1-145">When the custom pricing dimension is an entity, you will add 1:N relationships between the dimension entity and key Project Service entities.</span></span> <span data-ttu-id="9e8c1-146">בעת השימוש בדוגמה 'כותרת סטנדרטית' מלמעלה, סביר להניח שלכל עובד מוקצית כותרת סטנדרטית.</span><span class="sxs-lookup"><span data-stu-id="9e8c1-146">Using the Standard Title example from above, it is reasonable to expect that each employee is assigned a standard title.</span></span> <span data-ttu-id="9e8c1-147">כתוצאה מכך, תזדקק לקשר יחיד לרבים (‎1:N) מ'כותרת סטנדרטית' ל'משאב הניתן להזמנה', או לקשר רבים ליחיד (N:1) אם הוא נוצר מ'משאב הניתן להזמנה' ל'כותרת סטנדרטית'.</span><span class="sxs-lookup"><span data-stu-id="9e8c1-147">SAs a result, you will need a 1:N relationship from Standard Title to Bookable Resource, or a N:1 relationship if it were created from Bookable Resource to Standard Title.</span></span>

1. <span data-ttu-id="9e8c1-148">ב-PSA, בחר **הגדרות** > **פתרונות** ולחץ פעמיים על **\<your organization name> ממדי תמחור**.</span><span class="sxs-lookup"><span data-stu-id="9e8c1-148">In PSA, click **Settings** > **Solutions**, and then double-click **\<your organization name> pricing dimensions**.</span></span> 
2. <span data-ttu-id="9e8c1-149">בסייר הפתרונות, בחלונית הניווט הימנית בחר **ישויות > כותרת סטנדרטית**.</span><span class="sxs-lookup"><span data-stu-id="9e8c1-149">In Solution Explorer, on the left navigation pane, select **Entities > Standard Title**.</span></span>
3. <span data-ttu-id="9e8c1-150">הרחב את הישות **כותרת סטנדרטית** ובחר **קשרי יחיד לרבים**.</span><span class="sxs-lookup"><span data-stu-id="9e8c1-150">Expand the **Standard Title** entity and select **1:N Relationships**.</span></span>
4. <span data-ttu-id="9e8c1-151">לחץ על **חדש** כדי ליצור קשר יחיד לרבים (‎1:N) חדש שנקרא **כותרת סטנדרטית למשאב הניתן להזמנה**.</span><span class="sxs-lookup"><span data-stu-id="9e8c1-151">Click **New** to create a new 1:N relationship called **Standard Title to Bookable Resource**.</span></span> <span data-ttu-id="9e8c1-152">הזן את המידע הדרוש ולאחר מכן לחץ על **שמור**.</span><span class="sxs-lookup"><span data-stu-id="9e8c1-152">Enter the required information, and then click **Save**.</span></span>

> ![הוספת כותרת סטנדרטית כשדה הפניה למשאב הניתן להזמנה](media/ST-BR.png)

<span data-ttu-id="9e8c1-154">יש להוסיף את הכותרת הסטנדרטית אל ישויות התמחור ב- Project Service, **מחיר תפקיד** ו **ייקור מחיר תפקיד**.</span><span class="sxs-lookup"><span data-stu-id="9e8c1-154">The Standard Title will also need to be added to Project Service Pricing entities, **Role Price** and **Role Price Markup**.</span></span> <span data-ttu-id="9e8c1-155">ניתן השלים זאת גם באמצעות קשרי יחיד לרבים (‎1:N) בין הישות **כותרת סטנדרטית** והישות **מחיר תפקיד** והישות **כותרת סטנדרטית** והישות **ייקור מחיר תפקיד**.</span><span class="sxs-lookup"><span data-stu-id="9e8c1-155">This is also completed using 1:N relationships between the **Standard Title** and **Role Price** entities and **Standard Title** and **Role Price Markup** entities.</span></span>

1. <span data-ttu-id="9e8c1-156">בסייר הפתרונות, בחלונית הניווט הימנית בחר **ישויות > כותרת סטנדרטית**.</span><span class="sxs-lookup"><span data-stu-id="9e8c1-156">In Solution Explorer, on the left navigation pane, select **Entities > Standard Title**.</span></span>
2. <span data-ttu-id="9e8c1-157">הרחב את הישות **כותרת סטנדרטית** ובחר **קשרי יחיד לרבים**.</span><span class="sxs-lookup"><span data-stu-id="9e8c1-157">Expand the **Standard Title** entity and select **1:N Relationships**.</span></span>
3. <span data-ttu-id="9e8c1-158">לחץ על **חדש** כדי ליצור קשר יחיד לרבים (‎1:N) חדש שנקרא **כותרת סטנדרטית למחיר תפקיד**.</span><span class="sxs-lookup"><span data-stu-id="9e8c1-158">Click **New** to create a new 1:N relationship called **Standard Title to Role Price**.</span></span> <span data-ttu-id="9e8c1-159">הזן את המידע הדרוש ולאחר מכן לחץ על **שמור**.</span><span class="sxs-lookup"><span data-stu-id="9e8c1-159">Enter the required information, and then click **Save**.</span></span>
4. <span data-ttu-id="9e8c1-160">חזור על שלבים 1 עד 4 כדי ליצור קשרי יחיד לרבים (‎1:N) בין הישות **כותרת סטנדרטית** והישות **ייקור מחיר תפקיד**,</span><span class="sxs-lookup"><span data-stu-id="9e8c1-160">Repeat steps 1 - 4 to create 1:N relationships between the **Standard Title** and **Role Price Markup** entities,</span></span>

<span data-ttu-id="9e8c1-161">בשלבי המכירות וההערכה בפרויקט, כדי לנקוב במחיר להצעת המחיר/פרויקט, נדרשות הערכות של מאמץ העבודה עבור כל כותרת סטנדרטית.</span><span class="sxs-lookup"><span data-stu-id="9e8c1-161">In the sales and estimation phases for the project, to price the Quote/Project, estimates of the work effort are required for each standard title.</span></span> <span data-ttu-id="9e8c1-162">המשמעות היא שנדרשים קשרי יחיד לרבים מכותרת סטנדרטית לכל אחד מישויות ההערכה האלו ב- Project Service:</span><span class="sxs-lookup"><span data-stu-id="9e8c1-162">This means that 1:N relationships from Standard Title to each of these estimation entities in Project Service are needed:</span></span> 

- <span data-ttu-id="9e8c1-163">**פרטים בשורת הצעת מחיר**</span><span class="sxs-lookup"><span data-stu-id="9e8c1-163">**Quote line Detail**</span></span>
- <span data-ttu-id="9e8c1-164">**פרט סעיף חוזה של פרויקט**</span><span class="sxs-lookup"><span data-stu-id="9e8c1-164">**Project Contract Line Detail**</span></span>
- <span data-ttu-id="9e8c1-165">**משימת פרויקט**</span><span class="sxs-lookup"><span data-stu-id="9e8c1-165">**Project Task**</span></span>
- <span data-ttu-id="9e8c1-166">**חבר צוות פרוייקט**</span><span class="sxs-lookup"><span data-stu-id="9e8c1-166">**Project Team Member**</span></span>
- <span data-ttu-id="9e8c1-167">**שורת הערכה**</span><span class="sxs-lookup"><span data-stu-id="9e8c1-167">**Estimate Line**</span></span>

5. <span data-ttu-id="9e8c1-168">חזור על שלבים 1 עד 5 כדי ליצור קשרי יחיד לרבים מ **כותרת סטנדרטית** ל **‏‫פרטים בשורת הצעת מחיר‬**, **פרט סעיף חוזה של פרויקט**, **משימה בפרויקט**, **חבר צוות פרויקט‬** ו **‏‫שורת הערכה**.</span><span class="sxs-lookup"><span data-stu-id="9e8c1-168">Repeat steps 1 - 5 to create 1:N relationships from **Standard Title** to **Quote line Detail**, **Project Contract Line Detail**, **Project Task**, **Project Team Member**, and **Estimate Line**.</span></span>

> ![הוספת כותרת סטנדרטית כשדה הפניה ל‏‫שורת הערכה](media/ST-Estimate-Line.png)

<span data-ttu-id="9e8c1-170">בשלבי המסירה והפקת החשבונית, העבודה שהושלמה על-ידי כל כותרת סטנדרטית חייבת להיות מתומחרת במדויק בנתונים בפועל של הפרוייקט.</span><span class="sxs-lookup"><span data-stu-id="9e8c1-170">In the Delivery and Invoicing phases, the work completed by each standard title must be accurately priced on the Project Actuals.</span></span> <span data-ttu-id="9e8c1-171">פירוש הדבר שצריכים להיות קשרי יחיד לרבים מ **כותרת סטנדרטית** לישויות **ערך זמן**, **בפועל**, **פרטי שורה בחשבונית‬** ו **שורת יומן**.</span><span class="sxs-lookup"><span data-stu-id="9e8c1-171">This means that there needs to be 1:N relationships from **Standard Title** to **Time Entry**, **Actual**, **Invoice Line Detail**, and **Journal Line entities**.</span></span>

6. <span data-ttu-id="9e8c1-172">חזור על שלבים 1 עד 6 כדי ליצור קשרי יחיד לרבים מ **כותרת סטנדרטית** לישויות **ערך זמן**, **בפועל**, **פרטי שורה בחשבונית‬** ו **שורת יומן**.</span><span class="sxs-lookup"><span data-stu-id="9e8c1-172">Repeat steps 1 - 6 to create 1:N relationships from **Standard Title** to **Time Entry**, **Actual**, **Invoice Line Detail**, and **Journal Line entities**.</span></span>

> ![הוספת כותרת סטנדרטית כשדה הפניה ל‏‫ערך זמן](media/ST-Mapping.png)

### <a name="set-up-dimension-value-defaulting-using-the-mappings-features-of-the-platform"></a><span data-ttu-id="9e8c1-174">הגדרת ברירת מחדל לערך ממד באמצעות תכונות המיפוי של הפלטפורמה</span><span class="sxs-lookup"><span data-stu-id="9e8c1-174">Set up Dimension value defaulting using the mappings features of the platform</span></span>
<span data-ttu-id="9e8c1-175">עבור 'ערך זמן', כדאי שהמערכת תיצור את הכותרת הסטנדרטית כברירת מחדל ב'ערך זמן' מ'משאב ניתן להזמנה' שמתעד את ערך הזמן.</span><span class="sxs-lookup"><span data-stu-id="9e8c1-175">For Time Entry, it would be helpful to have the system default the standard title on the Time Entry from the Bookable Resource that is recording the time entry.</span></span> <span data-ttu-id="9e8c1-176">השתמש בשלבים הבאים כדי להוסיף מיפויי שדות מקשר יחיד לרבים מ **משאב הניתן להזמנה** ל **ערך זמן**.</span><span class="sxs-lookup"><span data-stu-id="9e8c1-176">Use the following steps to add field mappings on the 1:N relationship from **Bookable Resource** to **Time Entry**.</span></span>

1. <span data-ttu-id="9e8c1-177">בסייר הפתרונות, בחלונית הניווט הימנית בחר **ישויות > כותרת סטנדרטית**.</span><span class="sxs-lookup"><span data-stu-id="9e8c1-177">In Solution Explorer, on the left navigation pane, select **Entities > Standard Title**.</span></span>
2. <span data-ttu-id="9e8c1-178">הרחב את הישות **כותרת סטנדרטית** ובחר **קשרי יחיד לרבים**.</span><span class="sxs-lookup"><span data-stu-id="9e8c1-178">Expand the **Standard Title** entity and select **1:N Relationships**.</span></span>
3. <span data-ttu-id="9e8c1-179">לחץ לחיצה כפולה על **משאב הניתן להזמנה‏‎ לערך זמן**.</span><span class="sxs-lookup"><span data-stu-id="9e8c1-179">Double-click **Bookable Resource to Time Entry**.</span></span> <span data-ttu-id="9e8c1-180">בדף **קשר**, לחץ על **השתמש במיפויי שדה**.</span><span class="sxs-lookup"><span data-stu-id="9e8c1-180">On the **Relationship** page, click **Use Field mappings**.</span></span> 
4. <span data-ttu-id="9e8c1-181">לחץ על **חדש** כדי ליצור מיפוי שדה חדש בין השדה **כותרת סטנדרטית** בישות **משאב הניתן להזמנה** לשדה ההפניה **כותרת סטנדרטית** בישות **ערך זמן**.</span><span class="sxs-lookup"><span data-stu-id="9e8c1-181">Click **New** to create a new field mapping between the **Standard Title** field on the **Bookable Resource** entity to the **Standard Title** reference field on **Time Entry** entity.</span></span> 

> ![הגדרת מיפויי שדות כדי לאפשר יצירת ברירת מחדל של כותרת סטנדרטית ממשאב הניתן להזמנה לערך זמן](media/ST-Mapping2.png)


<span data-ttu-id="9e8c1-183">פעולה זו משלימה את שינויי הסכימה הדרושים עבור ממדים מותאמים אישית המבוססים על ישות.</span><span class="sxs-lookup"><span data-stu-id="9e8c1-183">This completes the schema changes required for entity-based custom dimensions.</span></span>

##  <a name="add-custom-fields-to-forms-views-and-business-rules"></a><span data-ttu-id="9e8c1-184">הוספת שדות מותאמים אישית לטפסים, לתצוגות ולכללים עסקיים</span><span class="sxs-lookup"><span data-stu-id="9e8c1-184">Add custom fields to forms, views, and business rules</span></span>

<span data-ttu-id="9e8c1-185">לאחר שביצעת את כל שינויי הסכימה הנדרשים, השלב הבא יהיה להפוך את השדות לגלויים בממשק המשתמש על-ידי הוספת השדות לטפסים ולתצוגות.</span><span class="sxs-lookup"><span data-stu-id="9e8c1-185">After you have made all of the required schema changes, the next step is to make the fields visible in the UI by adding the fields to the forms and views.</span></span>

1. <span data-ttu-id="9e8c1-186">פתח את הטופס או את התצוגה.</span><span class="sxs-lookup"><span data-stu-id="9e8c1-186">Open the form or the view.</span></span> <span data-ttu-id="9e8c1-187">בחלונית הניווט השמאלית, בחר את השדה וגרור אותו אל בד הציור של הטופס.</span><span class="sxs-lookup"><span data-stu-id="9e8c1-187">On the right navigation pane, select the field and drag it on to the form canvas.</span></span> 
2. <span data-ttu-id="9e8c1-188">אם אתה עורך תצוגה, השתמש בחלונית הניווט השמאלית, לחץ על **הוסף שדות** ובתיבת הדו-שיח **פירוט שדות** בחר את השדות הרצויים ולחץ על **אישור**.</span><span class="sxs-lookup"><span data-stu-id="9e8c1-188">If you are editing a view, use the right navigation pane, click **Add fields**, and in the **Field listing** dialog box, select the fields that you need and click **Ok**.</span></span>

<span data-ttu-id="9e8c1-189">הטבלה הבאה מספקת רשימה מקיפה של הטפסים והתצוגות המוגדרים מראש, לפי ישות, שיהיה צורך לעדכן אותם בשדות החדשים.</span><span class="sxs-lookup"><span data-stu-id="9e8c1-189">The following table provides a comprehensive list of out-of-the-box forms and views, by entity, that will need to be updated with the new fields.</span></span> <span data-ttu-id="9e8c1-190">אם ברשותך תצוגות או טפסים נוספים בהתאמות האישיות שלך בישויות אלה, הוסף את השדות החדשים גם להם.</span><span class="sxs-lookup"><span data-stu-id="9e8c1-190">If you have any additional views or forms in your customizations on these entities, add the new fields to those as well.</span></span>

| <span data-ttu-id="9e8c1-191">ישות ב- Project Service</span><span class="sxs-lookup"><span data-stu-id="9e8c1-191">Project Service Entity</span></span>        | <span data-ttu-id="9e8c1-192">טפסים הזקוקים לשדה החדש</span><span class="sxs-lookup"><span data-stu-id="9e8c1-192">Forms that need the new field</span></span>   |<span data-ttu-id="9e8c1-193">תצוגות הזקוקות לשדה החדש</span><span class="sxs-lookup"><span data-stu-id="9e8c1-193">Views that need the new field</span></span>      |
| ------------------------------|---------------------------------|----------------------------------|
|  <span data-ttu-id="9e8c1-194">מחיר תפקיד</span><span class="sxs-lookup"><span data-stu-id="9e8c1-194">Role Price</span></span>|<span data-ttu-id="9e8c1-195">• מידע</span><span class="sxs-lookup"><span data-stu-id="9e8c1-195">• Information</span></span> |<span data-ttu-id="9e8c1-196">• מחירי קטגוריות משאבים פעילים</span><span class="sxs-lookup"><span data-stu-id="9e8c1-196">• Active Resource Category Prices</span></span><br> <span data-ttu-id="9e8c1-197">• תצוגה משויכת של מחיר קטגוריות משאבים</span><span class="sxs-lookup"><span data-stu-id="9e8c1-197">• Resource Category Price Associated View</span></span>|
|  <span data-ttu-id="9e8c1-198">ייקור מחיר תפקיד</span><span class="sxs-lookup"><span data-stu-id="9e8c1-198">Role Price Markup</span></span>|<span data-ttu-id="9e8c1-199">• מידע</span><span class="sxs-lookup"><span data-stu-id="9e8c1-199">• Information</span></span>|<span data-ttu-id="9e8c1-200">• ייקור מחיר התפקיד הפעיל</span><span class="sxs-lookup"><span data-stu-id="9e8c1-200">• Active Role Price Markup</span></span><br><span data-ttu-id="9e8c1-201">• תצוגה משויכת של ייקור מחיר התפקיד</span><span class="sxs-lookup"><span data-stu-id="9e8c1-201">• Role Price Markup Associated View</span></span>|
|  <span data-ttu-id="9e8c1-202">פרטים בשורת הצעת מחיר</span><span class="sxs-lookup"><span data-stu-id="9e8c1-202">Quote line detail</span></span>|<span data-ttu-id="9e8c1-203">• פרטי פרויקט</span><span class="sxs-lookup"><span data-stu-id="9e8c1-203">• Project Information</span></span><br><span data-ttu-id="9e8c1-204">• יצירה מהירה של פרויקט</span><span class="sxs-lookup"><span data-stu-id="9e8c1-204">• Project Quick Create</span></span>|<span data-ttu-id="9e8c1-205">• פרטים בשורת הצעת מחיר פעילה</span><span class="sxs-lookup"><span data-stu-id="9e8c1-205">• Active Quote Line Detail</span></span><br><span data-ttu-id="9e8c1-206">• פרטי שורה של הצעת מחיר משולבת</span><span class="sxs-lookup"><span data-stu-id="9e8c1-206">• Combined Quote Line Details</span></span><br><span data-ttu-id="9e8c1-207">• תצוגה משויכת של פרטי שורה בהצעת מחיר</span><span class="sxs-lookup"><span data-stu-id="9e8c1-207">• Quote Line Detail associated view</span></span>|
|  <span data-ttu-id="9e8c1-208">פרט סעיף חוזה של פרויקט</span><span class="sxs-lookup"><span data-stu-id="9e8c1-208">Project Contract line detail</span></span>|<span data-ttu-id="9e8c1-209">• פרטי פרויקט</span><span class="sxs-lookup"><span data-stu-id="9e8c1-209">• Project Information</span></span><br><span data-ttu-id="9e8c1-210">• יצירה מהירה של פרויקט</span><span class="sxs-lookup"><span data-stu-id="9e8c1-210">• Project Quick Create</span></span>|<span data-ttu-id="9e8c1-211">• פרטי סעיף חוזה משולב</span><span class="sxs-lookup"><span data-stu-id="9e8c1-211">• Combined Contract Line Details</span></span><br><span data-ttu-id="9e8c1-212">• פרטי סעיף חוזה פעיל</span><span class="sxs-lookup"><span data-stu-id="9e8c1-212">• Active Contract Line Details</span></span><br><span data-ttu-id="9e8c1-213">• תצוגה משויכת של פרטים בסעיף חוזה</span><span class="sxs-lookup"><span data-stu-id="9e8c1-213">• Contract Line Details Associated View</span></span>|
|  <span data-ttu-id="9e8c1-214">משימת פרויקט</span><span class="sxs-lookup"><span data-stu-id="9e8c1-214">Project Task</span></span>|<span data-ttu-id="9e8c1-215">• מידע</span><span class="sxs-lookup"><span data-stu-id="9e8c1-215">• Information</span></span><br><span data-ttu-id="9e8c1-216">• טופס חדש</span><span class="sxs-lookup"><span data-stu-id="9e8c1-216">• New Form</span></span>||
|  <span data-ttu-id="9e8c1-217">חבר צוות פרוייקט</span><span class="sxs-lookup"><span data-stu-id="9e8c1-217">Project Team Member</span></span>|<span data-ttu-id="9e8c1-218">• מידע</span><span class="sxs-lookup"><span data-stu-id="9e8c1-218">• Information</span></span><br><span data-ttu-id="9e8c1-219">• טופס חדש</span><span class="sxs-lookup"><span data-stu-id="9e8c1-219">• New Form</span></span>|<span data-ttu-id="9e8c1-220">• חברי צוות פרויקט פעיל</span><span class="sxs-lookup"><span data-stu-id="9e8c1-220">• Active Project Team Members</span></span><br><span data-ttu-id="9e8c1-221">• חברי צוות פרויקט</span><span class="sxs-lookup"><span data-stu-id="9e8c1-221">• Project Team Members</span></span><br><span data-ttu-id="9e8c1-222">• תצוגה משויכת של חברי צוות פרויקט</span><span class="sxs-lookup"><span data-stu-id="9e8c1-222">• Project Team members associated View</span></span>|
|  <span data-ttu-id="9e8c1-223">ערך זמן</span><span class="sxs-lookup"><span data-stu-id="9e8c1-223">Time Entry</span></span>|<span data-ttu-id="9e8c1-224">• מידע</span><span class="sxs-lookup"><span data-stu-id="9e8c1-224">• Information</span></span><br><span data-ttu-id="9e8c1-225">• יצירת ערך זמן</span><span class="sxs-lookup"><span data-stu-id="9e8c1-225">• Create Time Entry</span></span>|<span data-ttu-id="9e8c1-226">• ערכי הזמן שלי לפי תאריך</span><span class="sxs-lookup"><span data-stu-id="9e8c1-226">• My Time Entries By Date</span></span><br><span data-ttu-id="9e8c1-227">• ערכי הזמן שלי לשבוע זה</span><span class="sxs-lookup"><span data-stu-id="9e8c1-227">• My time Entries for this week</span></span><br><span data-ttu-id="9e8c1-228">• ערכי זמן לאישור</span><span class="sxs-lookup"><span data-stu-id="9e8c1-228">• Time entries for approval</span></span>|
|  <span data-ttu-id="9e8c1-229">שורת יומן</span><span class="sxs-lookup"><span data-stu-id="9e8c1-229">Journal Line</span></span>|<span data-ttu-id="9e8c1-230">• מידע</span><span class="sxs-lookup"><span data-stu-id="9e8c1-230">• Information</span></span><br><span data-ttu-id="9e8c1-231">• יצירה מהירה</span><span class="sxs-lookup"><span data-stu-id="9e8c1-231">• Quick create</span></span>|<span data-ttu-id="9e8c1-232">• שורות יומן פעיל</span><span class="sxs-lookup"><span data-stu-id="9e8c1-232">• Active journal lines</span></span><br><span data-ttu-id="9e8c1-233">• תצוגה משויכת של שורת יומן</span><span class="sxs-lookup"><span data-stu-id="9e8c1-233">• Journal Line associated view</span></span>|
|  <span data-ttu-id="9e8c1-234">פרט בשורת חשבונית</span><span class="sxs-lookup"><span data-stu-id="9e8c1-234">Invoice Line Detail</span></span>|<span data-ttu-id="9e8c1-235">• מידע</span><span class="sxs-lookup"><span data-stu-id="9e8c1-235">• Information</span></span><br><span data-ttu-id="9e8c1-236">• יצירה מהירה</span><span class="sxs-lookup"><span data-stu-id="9e8c1-236">• Quick create</span></span>|<span data-ttu-id="9e8c1-237">• פרטי שורה בחשבונית פעילה</span><span class="sxs-lookup"><span data-stu-id="9e8c1-237">• Active Invoice Line Details</span></span><br><span data-ttu-id="9e8c1-238">• עסקאות חשבונית לחיוב</span><span class="sxs-lookup"><span data-stu-id="9e8c1-238">• Chargeable Invoice Transactions</span></span><br><span data-ttu-id="9e8c1-239">• עסקאות חשבונית ללא תשלום</span><span class="sxs-lookup"><span data-stu-id="9e8c1-239">• Complimentary Invoice Transactions</span></span><br><span data-ttu-id="9e8c1-240">• תצוגה משויכת של פרטי שורה בחשבונית</span><span class="sxs-lookup"><span data-stu-id="9e8c1-240">• Invoice Line Detail associated view</span></span><br><span data-ttu-id="9e8c1-241">• עסקאות חשבונית שאינן ניתנות לחיוב</span><span class="sxs-lookup"><span data-stu-id="9e8c1-241">• Non-Chargeable Invoice Transactions</span></span>|
|  <span data-ttu-id="9e8c1-242">בפועל</span><span class="sxs-lookup"><span data-stu-id="9e8c1-242">Actual</span></span>|<span data-ttu-id="9e8c1-243">• מידע</span><span class="sxs-lookup"><span data-stu-id="9e8c1-243">• Information</span></span><br><span data-ttu-id="9e8c1-244">• נתונים בפועל פעילים</span><span class="sxs-lookup"><span data-stu-id="9e8c1-244">• Active Actuals</span></span>|<span data-ttu-id="9e8c1-245">• תצוגה משויכת של נתונים בפועל</span><span class="sxs-lookup"><span data-stu-id="9e8c1-245">• Actual Associated view</span></span>|

<span data-ttu-id="9e8c1-246">ייתכן שיהיה צורך להוסיף שדות מותאמים אישית גם בכללים עסקיים, בהתאם להגדרות שהגדרת.</span><span class="sxs-lookup"><span data-stu-id="9e8c1-246">Custom fields may also need to be added on business rules depending on what you have defined.</span></span> <span data-ttu-id="9e8c1-247">דוגמה אחת המוכנה לשימוש היא עבור הכלל העסקי **אפשרות עריכה של ערך זמן על-בסיס מצב**.</span><span class="sxs-lookup"><span data-stu-id="9e8c1-247">One out-of-the-box example is for the business rule **Editability of Time Entry based on status**.</span></span> <span data-ttu-id="9e8c1-248">כלל זה מגדיר אילו שדות יש לנעול כאשר ערך הזמן נמצא במצב שאינו ניתן לעריכה, כגון **אושר**.</span><span class="sxs-lookup"><span data-stu-id="9e8c1-248">This rule defines which fields need to be locked when the Time Entry is in a non-editable status such as **Approved**.</span></span> <span data-ttu-id="9e8c1-249">הוסף שדות לכלל עסקי זה כך שהשדות יהיו נעולים לעריכה כאשר ערך הזמן נמצא במצב שאינו **טיוטה** או **הוחזר**.</span><span class="sxs-lookup"><span data-stu-id="9e8c1-249">Add fields to this business rule so that the fields are locked for editing when the Time Entry is in a status other than **Draft** or **Returned**.</span></span>


[!INCLUDE[footer-include](../includes/footer-banner.md)]