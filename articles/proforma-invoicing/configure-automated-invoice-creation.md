---
title: הגדרה של יצירת חשבוניות אוטומטית
description: נושא זה מספק מידע על הדרך להגדיר את המערכת ליצירת חשבוניות באופן אוטומטי.
author: rumant
manager: AnnBe
ms.date: 09/18/2020
ms.topic: article
ms.prod: ''
ms.service: dynamics-365-customerservice
ms.technology: ''
audience: Application User
ms.reviewer: kfend
ms.search.scope: ''
ms.custom: ''
ms.assetid: ''
ms.search.region: Global
ms.search.industry: Service industries
ms.author: suvaidya
ms.dyn365.ops.version: ''
ms.search.validFrom: 2020-10-01
ms.openlocfilehash: 764fd4568619e4f5676ee3cbf7fce14ffb069548
ms.sourcegitcommit: a2c3cd49a3b667b8b5edaa31788b4b9b1f728d78
ms.translationtype: HT
ms.contentlocale: he-IL
ms.lasthandoff: 09/28/2020
ms.locfileid: "3898127"
---
# <a name="configure-automated-invoice-creation"></a>הגדרה של יצירת חשבוניות אוטומטית

_**חל על:** Project Operations לתרחישים מבוססי משאבים/לא מלאי, פריסה קלה - עסקה בחשבונית פרופורמה_

השלם את השלבים הבאים להגדרת חשבונית אוטומטית המופעלת ב-Project Operations.

1. עבור אל **הגדרות** \> **‎משימות אצווה**.
2. צור משימת אצווה ושנה את שמה ל- **צור חשבוניות ב- Project Operations**. שם משימת האצווה חייב לכלול את המונח "צור חשבוניות".
3. בשדה **סוג משימה**, בחר **ללא**. כברירת מחדל, האפשרות **תדירות יומית** והאפשרות **הוא פעיל** מוגדרות בתור **כן**.
4. בחר **הפעל זרימת עבודה**. בתיבת הדו-שיח **חיפוש רשומה** תראה שלוש זרימות עבודה:

    - ProcessRunCaller
    - ProcessRunner
    - UpdateRoleUtilization

5. בחר את **ProcessRunCaller** ולאחר מכן בחר **הוסף**.
6. בתיבת הדו-שיח הבאה, בחר **אישור**. אחרי זרימת עבודה **שינה** תופיע זרימת עבודה **תהליך**.

    תוכל גם לבחור את **ProcessRunner** בשלב 5. לאחר מכן, כשתבחר **אישור**, אחרי זרימת העבודה **תהליך** תופיע זרימת עבודה **שינה**.

זרימת העבודה **ProcessRunCaller** וזרימת העבודה **ProcessRunner** יוצרות חשבוניות. **ProcessRunCaller** קורא ל- **ProcessRunner**. **ProcessRunner** היא למעשה זרימת העבודה שיוצרת למעשה את החשבוניות. היא עוברת על כל סעיפי החוזה שעבורם יש ליצור חשבונית, והיא יוצרת שורות עבור שורות אלו. כדי לקבוע את סעיפי החוזה שעבורם יש ליצור חשבוניות, המשימה מחפשת תאריכים של הפעלת חשבוניות עבור סעיפי החוזה. אם לסעיפי חוזה השייכים לחוזה אחד יש תאריך הפעלת חשבונית זהה, העסקאות משולבות לחשבונית אחת הכוללת שתי שורות בחשבונית. אם אין עסקאות שעבורן יש ליצור חשבוניות, המשימה מדלגת על יצירת חשבונית.

לאחר שהפעלת **ProcessRunner** הסתיימה, היא קוראת ל- **ProcessRunCaller**, מספקת את שעת הסיום ונסגרת. לאחר מכן, **ProcessRunCaller** מפעילה שעון עצר הפועל במשך 24 שעות משעת הסיום שצוינה. כששעון העצר מפסיק, **ProcessRunCaller** נסגרת.

משימת תהליך האצווה ליצירת חשבוניות היא משימה חוזרת. אם תהליך אצווה זה מופעל פעמים רבות, נוצרים מופעים מרובים של המשימה וגורמים לשגיאות. לכן עליך להתחיל את תהליך האצווה רק פעם אחת, ועליך להפעיל אותו מחדש רק אם הוא מפסיק לפעול.

> [!NOTE]
> חשבונית אצווה פועלת רק עבור שורות חוזה בפרויקט המוגדרות על פי לוחות זמנים של חשבוניות. אבני דרך חייבים להיות מוגדרים בסעיף חוזה בשיטת חיוב במחיר קבוע. סעיף חוזה בפרויקט בשיטת חיוב לפי זמן וחומר יצטרך הגדרה של לוח זמנים לחשבוניות המבוסס על תאריכים. כך גם בסעיף חוזה שמבוסס על פרויקטים.     
