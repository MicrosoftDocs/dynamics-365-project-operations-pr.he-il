---
title: קביעת התצורה של יצירת חשבוניות אוטומטית
description: נושא זה מספק מידע על אופן קביעת התצורה של המערכת ליצירת חשבוניות באופן אוטומטי.
author: rumant
ms.date: 10/13/2020
ms.topic: article
ms.reviewer: johnmichalak
ms.author: rumant
ms.openlocfilehash: 43b75ea823a62acaab708a1ef2fa2467904fdd00
ms.sourcegitcommit: c0792bd65d92db25e0e8864879a19c4b93efb10c
ms.translationtype: HT
ms.contentlocale: he-IL
ms.lasthandoff: 04/14/2022
ms.locfileid: "8583402"
---
# <a name="configure-automatic-invoice-creation"></a>קביעת התצורה של יצירת חשבוניות אוטומטית

_**חל על:** ‏Project Operations לתרחישים מבוססי משאבים/ללא מלאי_


השלם את השלבים הבאים להגדרת חשבונית אוטומטית המופעלת ב-Dynamics 365 Project operations.

1. עבור אל **הגדרות** > **משימות אצווה**.
2. צור משימת אצווה ושנה את שמה ל- **צור חשבוניות ב- Project Operations**. שם משימת האצווה חייב לכלול את המילים "צור חשבוניות."
3. בשדה **סוג משימה**, בחר **ללא**. כברירת מחדל, האפשרות **תדירות יומית** והאפשרות **הוא פעיל** מוגדרות בתור **כן**.
4. בחר **הפעל זרימת עבודה**. בתיבת הדו-שיח **חיפוש רשומה** תראה שלוש זרימות עבודה:

    - ProcessRunCaller
    - ProcessRunner
    - UpdateRoleUtilization

5. בחר את **ProcessRunCaller** ולאחר מכן בחר **הוסף**.
6. בתיבת הדו-שיח הבאה, בחר **אישור**. אחרי זרימת עבודה **שינה** תופיע זרימת עבודה **תהליך**.

  > [!NOTE]
  > תוכל גם לבחור את **ProcessRunner** בשלב 5. לאחר מכן, כשתבחר **אישור**, אחרי זרימת העבודה **תהליך** תופיע זרימת עבודה **שינה**.

זרימת העבודה **ProcessRunCaller** וזרימת העבודה **ProcessRunner** יוצרות חשבוניות. **ProcessRunCaller** קורא ל- **ProcessRunner**. **ProcessRunner** היא למעשה זרימת העבודה שיוצרת למעשה את החשבוניות. היא עוברת על כל סעיפי החוזה שעבורם יש ליצור חשבונית, והיא יוצרת שורות עבור שורות אלו. כדי לקבוע את סעיפי החוזה שעבורם יש ליצור חשבוניות, המשימה מחפשת תאריכים של הפעלת חשבוניות עבור סעיפי החוזה. אם לסעיפי חוזה השייכים לחוזה אחד יש תאריך הפעלת חשבונית זהה, העסקאות משולבות לחשבונית אחת הכוללת שתי שורות בחשבונית. אם אין עסקאות שעבורן יש ליצור חשבוניות, המשימה מדלגת על יצירת חשבונית.

לאחר שהפעלת **ProcessRunner** הסתיימה, היא קוראת ל- **ProcessRunCaller**, מספקת את שעת הסיום ונסגרת. לאחר מכן, **ProcessRunCaller** מפעילה שעון עצר הפועל במשך 24 שעות משעת הסיום שצוינה. כששעון העצר מפסיק, **ProcessRunCaller** נסגרת.

משימת תהליך האצווה ליצירת חשבוניות היא משימה חוזרת. אם תהליך אצווה זה מופעל פעמים רבות, נוצרים מופעים מרובים של המשימה וגורמים לשגיאות. לכן עליך להתחיל את תהליך האצווה רק פעם אחת, ועליך להפעיל אותו מחדש רק אם הוא מפסיק לפעול.

> [!NOTE]
> חשבונית אצווה פועלת רק עבור שורות חוזה בפרויקט המוגדרות על פי לוחות זמנים של חשבוניות. אבני דרך חייבים להיות מוגדרים בסעיף חוזה בשיטת חיוב במחיר קבוע. סעיף חוזה בפרויקט בשיטת חיוב לפי זמן וחומר יצטרך הגדרה של לוח זמנים לחשבוניות המבוסס על תאריכים. כך גם בסעיף חוזה שמבוסס על פרויקטים.     


[!INCLUDE[footer-include](../includes/footer-banner.md)]